## 📆 2024-05-14

### 🔔 스크럼

- 학습 목표 1 : 비밀번호 암호화 방식 공부
  <br/>

### 🚀 Today I Learned

#### | 비밀번호 암호화

`비밀번호 암호화`란, 평문으로 되어있는 비밀번호를 해커가 읽거나 사용할 수 없도록 혹은 시스템이나 관리자가 알 수 없도록 하는 방법이다.

**암호화 유형**

- 대칭 키: 시스템에 암호화/복호화 키가 존재, 키를 통해 비밀번호를 암호화하고 복호화함
- 공개 키(=비대칭 키): 암호화, 복호화에 이용하는 키가 다름
- 해싱: 해싱 알고리즘을 통해서 비밀번호를 무작위로 변경
- 솔트: 단방향 해시함수, 해싱 하기 전에 원문에 임의의 문자열을 덧붙임

**bcrypt, crypto**

- `bcrypt`: 암호화 해시 함수, 속도가 느림
- `crypto`: 다양한 암호화 알고리즘 제공하는 모듈, 속도가 빠름

#### crypto

- .createHash(): 사용할 해시 알고리즘
  ex) 'sha256', 'sha512'가 대표적
- .update(): 암호화할 비밀번호
- .digest(): 사용할 인코딩 방식
  ex) 'base6', 'hex', 'latin1'

```
  crypto.createHash("sha512").update(password).digest("base64");
```

**crypto**의 문제점

- 같은 해시 알고리즘과 인코딩 방식을 사용하면 동일한 해시 값을 반환 (레인보우 테이블)
- 해커는 이를 통해 비밀번호를 해킹할 수 있음

**crypto**의 해결책

- 'salt'라는 임의의 값을 해시 전에 붙여 변형
- 여러번 해시하기

<br/>

#### bcrypt

`bcrypt`는 단방향 암호화에서 사용

- 솔팅 + 키 스트레칭
  솔팅: 임의의 문자열을 붙이는 방식
  키 스트레칭: 해시 값을 계산하고, 그 값을 다시 해시하고 반복하는 방식

- salt 값 생성

  ```
  const salt = bcrypt.genSaltSync( n );
  ```

  n 값이 높을 수록 보안 수준 올라가지만, 시간이 오래걸림

- 해시 생성

  ```
  const hash = bcrypt.hashSync( 비밀번호, salt );
  ```

  사용자가 입력한 비밀번호를 salt 값과 함께 해시

- 비밀번호 비교
  ```
  const isCorrect = await bcrypt.compare( 입력 비밀번호, 해싱된 유저 비밀번호 );
  ```
  입력한 비밀번호와 저장된 (해시 비밀번호)를 비교

### 🔥 오늘의 도전 과제와 해결 방법

- 도전 과제 1: 비밀번호 암호화를 community 프로젝트에 적용하기

### 🗨️ 오늘의 회고

<!--
- 오늘의 학습 경험에 대한 자유로운 생각이나 느낀 점을 기록합니다.
- 성공적인 점, 개선해야 할 점, 새롭게 시도하고 싶은 방법 등을 포함할 수 있습니다.-->

- 현재 비밀번호를 날 것 그자체로 저장하고 있음 -> 보안에 취약하기 때문에 오늘 공부한 bcypt를 이용해서 비밀번호를 암호화할 예정이다.
